var ajax=function(a){var c=new XMLHttpRequest();c.onreadystatechange=function(){if(c.readyState==4){if(c.status==200&& a.success){a.success(a.parse?JSON.parse(c.responseText):c.responseText)}else{function f(g,h){console.error("ajaxSM: Error on ajax call to "+a.url+" "+g+" - "+h)}if(a.error){a.error.other=a.error.other||f}else{a.error={other:f}}(a.error[c.status]||a.error.other)(c.status,c.statusText)}}};var b=null;if(a.data){var e=[];for(var d in a.data){e.push(d+"="+a.data[d])}a.type==="GET"?a.url+="?"+e.join("&"):b=e.join("&")}c.open(a.type,a.url,a.async===undefined||a.async);if(b){c.setRequestHeader("Content-type","application/x-www-form-urlencoded")}c.send(b)};
